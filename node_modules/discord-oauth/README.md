# discord-oauth
Simple Discord oAuth Wrapper created to make using oAuth as easy as possible.

Example:
```typescript
import * as express from 'express';
const app = express();
app.use(express.json(), express.urlencoded({ extended: true }));

import DiscordoAuth2 from './discord-oauth/src/index';
const oAuth = new DiscordoAuth2({
  client_id: "your-client-id",
  client_secret: "your-client-secret",
  callback_uri: "your-callback-uri",
});

app.get('/', (req, res) => {
  res.redirect('your-oauth-url');
});

app.get('/oauth/callback', async(req, res) => {
  // initialize with the code. 
  const token = await oAuth.init(req.query.code);
  
  // now you can get the user or the user's guilds!
  const user = await oAuth.getUser(token);
  const guilds = await oAuth.getGuilds(token);
  res.json({ user, guilds });
});

app.get('/getGuild', (req, res) => {
  // you can also get a specific guild, NOTE* you have to have a bot token of a bot that is in the guild.
  const guild = await oAuth.getGuild('your-guild-id', 'your-bot-token');
  res.json({ guild });
});

const PORT = 3001;
app.listen(PORT, () => console.log(`Listening to port ${PORT}.`));
```